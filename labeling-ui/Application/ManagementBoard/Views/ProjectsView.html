<div class="grid-frame vertical">
    <title-bar class="grid-block noscroll header"
               user="vm.user"
               user-permissions="vm.userPermissions"
               back-link=""
               back-link-text=""
               show-username="true"
               show-logout-button="true"
    >
    </title-bar>
    <div class="grid-block text-center vertical">
        <loading-mask ng-if="vm.showLoadingMask" spinner="true"></loading-mask>
        <h1>Choose a Project</h1>
        <tab-view>
            <tab ng-if="vm.userPermissions.canViewTodoProjects"
                 header="Todo {{vm.projectCount !== null ? '(' + vm.projectCount.todo + ')' : ''}}"
                 create-on-first-view="true">
                <h2>
                    Todo <span ng-hide='vm.projectCount == null'>({{vm.projectCount.todo}})</span>
                </h2>
                <project-list user="vm.user"
                              show-loading-mask="vm.showLoadingMask"
                              user-permissions="vm.userPermissions"
                              project-status="todo"></project-list>
            </tab>
            <tab header="InProgress {{vm.projectCount !== null ? '(' + vm.projectCount.in_progress + ')' : ''}}"
                 create-on-first-view="true">
                <h2>
                    InProgress <span ng-hide='vm.projectCount == null'>({{vm.projectCount.in_progress}})</span>
                </h2>
                <project-list user="vm.user"
                              show-loading-mask="vm.showLoadingMask"
                              user-permissions="vm.userPermissions"
                              project-status="in_progress"></project-list>
            </tab>
            <tab ng-if="vm.userPermissions.canViewClosedProjects"
                 header="Done {{vm.projectCount !== null ? '(' + vm.projectCount.done + ')' : ''}}"
                 create-on-first-view="true">
                <h2>
                    Done <span ng-hide='vm.projectCount == null'>({{vm.projectCount.done}})</span>
                </h2>
                <project-list user="vm.user"
                              show-loading-mask="vm.showLoadingMask"
                              user-permissions="vm.userPermissions"
                              project-status="done"></project-list>
            </tab>
        </tab-view>
    </div>
</div>
