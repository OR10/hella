<div class="grid-block text-center vertical container">

    <page-title title="Available Project Exports"></page-title>
    <div class="grid-container">
        <div class="grid-content">
            <table class="table hover">
                <thead>
                <tr>
                    <th></th>
                    <th>Date</th>
                    <th>Id</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-show="vm.exports.length" ng-repeat="export in vm.exports track by export.id">
                    <td ng-switch="export.status">
                        <a ng-switch-when="done" ng-href="{{vm.downloadUrl(export.projectId, export.id)}}">
                                <i class="fa fa-download"></i>
                        </a>
                        <a ng-switch-when="error">
                                <i ng-if="export.errorMessage != null" class="fa fa-warning" tooltip="{{export.errorMessage}}"></i>
                                <i ng-if="export.errorMessage == null" class="fa fa-warning" tooltip="Failed to generate export"></i>
                        </a>
                        <div ng-switch-default>
                            <i class="fa fa-spinner fa-pulse"></i>
                        </div>
                    </td>
                    <td>
                       <a ng-if="export.status == 'done'" ng-href="{{vm.downloadUrl(export.projectId, export.id)}}">
                           {{export.date ? export.date : 'unknown'}}
                       </a>
                        <div ng-if="export.status != 'done'">{{export.date ? export.date : 'unknown'}}</div>
                    </td>
                    <td>
                        <a ng-if="export.status == 'done'" ng-href="{{vm.downloadUrl(export.projectId, export.id)}}">{{export.id}}</a>
                        <div ng-if="export.status != 'done'">{{export.id}}</div>
                    </td>
                </tr>
                <tr ng-show="!vm.exports.length" class="no-hover">
                    <td colspan="3" class="no-tasks">No Exports available.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>